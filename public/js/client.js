"use strict";var googleMap=googleMap||{},google=google;googleMap.mapSetup=function(){var o=document.getElementById("map-canvas"),e={zoom:12,center:new google.maps.LatLng(51.506178,(-.088369)),mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(o,e),this.getChargeSpots()},googleMap.getChargeSpots=function(){$.get("http://localhost:3000/api/chargespots").done(this.loopThroughChargeSpots)},googleMap.loopThroughChargeSpots=function(o){$.each(o,function(o,e){console.log(e),setTimeout(function(){googleMap.createMarkerForChargeSpots(e)},200*o)})},googleMap.createMarkerForChargeSpots=function(o){for(var e=0;e<o.length;e++){var a=new google.maps.LatLng(o[e].Latitude,o[e].Longitude),n=new google.maps.Marker({position:a,map:this.map,icon:"/images/marker.png",animation:google.maps.Animation.DROP});this.addInfoWindowForChargeSpots(o,n)}},googleMap.addInfoWindowForChargeSpots=function(o,e){var a=this;google.maps.event.addListener(e,"click",function(){"undefined"!=typeof a.infoWindow&&a.infoWindow.close(),a.infoWindow=new google.maps.InfoWindow({content:$.each(function(o,e){e.name[o]+"<br>"+e.PostTown[o]+"<br>"+e.Connector[o]+"<br> "+e.PaymentRequiredFlag[o]+"<br>"+e.SubscriptionRequiredFlag[o]})}),a.infoWindow.open(a.map,e),a.map.setCenter(e.getPosition()),a.map.setZoom(15)})},$(googleMap.mapSetup.bind(googleMap));